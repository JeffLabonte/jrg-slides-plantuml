<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="625px" preserveAspectRatio="none" style="width:805px;height:625px;" version="1.1" viewBox="0 0 805 625" width="805px" zoomAndPan="magnify"><defs><filter height="300%" id="f1izlldifvxgf4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="403.25" cy="20" fill="#000000" filter="url(#f1izlldifvxgf4)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1izlldifvxgf4)" height="465.5205" style="stroke: #000000; stroke-width: 2.0;" width="784.5" x="10" y="53.2505"/><path d="M108,54.2505 L108,62.5474 L98,72.5474 L10,72.5474 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="13" y="67.2456">System Boot</text><rect fill="#000000" filter="url(#f1izlldifvxgf4)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="764.5" x="20" y="89.5474"/><rect fill="#FFFFFF" filter="url(#f1izlldifvxgf4)" height="374.4219" style="stroke: #000000; stroke-width: 2.0;" width="495.5" x="34" y="106.3491"/><path d="M149,107.3491 L149,115.646 L139,125.646 L34,125.646 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="37" y="120.3442">Update System</text><rect fill="#FEFECE" filter="url(#f1izlldifvxgf4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="129" y="186.646"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="139" y="207.7847">Download</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="36" x="204" y="207.7847">*app*</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="244" y="207.7847">update package</text><polygon fill="#FEFECE" filter="url(#f1izlldifvxgf4)" points="180,294.5835,306,294.5835,318,307.3882,306,320.1929,180,320.1929,168,307.3882,180,294.5835" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="180" y="304.7939">not ok and retry count</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="180" y="317.5986">not exhausted</text><polygon fill="#FEFECE" filter="url(#f1izlldifvxgf4)" points="187.5,356.8022,298.5,356.8022,310.5,368.8022,298.5,380.8022,187.5,380.8022,175.5,368.8022,187.5,356.8022" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="187.5" y="372.6104">download package?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="310.5" y="353.4033">Cannot proceed, this is not safe!</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="310.5" y="366.208">shuting down</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="401.5" y="366.208">the system...</text><rect fill="#FEFECE" filter="url(#f1izlldifvxgf4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="203" x="64" y="390.8022"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="74" y="411.9409">Installing new</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="36" x="163" y="411.9409">*app*</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="203" y="411.9409">package</text><ellipse cx="320.5" cy="400.8022" fill="#FFFFFF" filter="url(#f1izlldifvxgf4)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="314.3128" x2="326.6872" y1="394.6151" y2="406.9894"/><line style="stroke: #000000; stroke-width: 2.5;" x1="326.6872" x2="314.3128" y1="394.6151" y2="406.9894"/><polygon fill="#FEFECE" filter="url(#f1izlldifvxgf4)" points="191,142.646,295,142.646,307,154.646,295,166.646,191,166.646,179,154.646,191,142.646" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="191" y="158.4541">requires updates?</text><polygon fill="#FEFECE" filter="url(#f1izlldifvxgf4)" points="243,444.771,255,456.771,243,468.771,231,456.771,243,444.771" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1izlldifvxgf4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="583" y="240.6147"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="593" y="261.7534">Launching postgres db</text><rect fill="#FEFECE" filter="url(#f1izlldifvxgf4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="557.5" y="307.0444"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="195" x="567.5" y="328.1831">Launching application backend</text><rect fill="#000000" filter="url(#f1izlldifvxgf4)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="764.5" x="20" y="500.771"/><rect fill="#FEFECE" filter="url(#f1izlldifvxgf4)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="328.75" y="538.771"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="129" x="338.75" y="559.9097">Lauching application</text><ellipse cx="403.25" cy="603.7397" fill="#FFFFFF" filter="url(#f1izlldifvxgf4)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="403.25" cy="603.7397" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="243" x2="243" y1="220.6147" y2="294.5835"/><polygon fill="#A80036" points="239,284.5835,243,294.5835,247,284.5835,243,288.5835" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="318" x2="369" y1="307.3882" y2="307.3882"/><polygon fill="#A80036" points="365,257.0327,369,247.0327,373,257.0327,369,253.0327" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="369" x2="369" y1="203.6304" y2="307.3882"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="369" x2="357" y1="203.6304" y2="203.6304"/><polygon fill="#A80036" points="367,199.6304,357,203.6304,367,207.6304,363,203.6304" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.5;" x1="175.5" x2="165.5" y1="368.8022" y2="368.8022"/><line style="stroke: #008000; stroke-width: 1.5;" x1="165.5" x2="165.5" y1="368.8022" y2="390.8022"/><polygon fill="#008000" points="161.5,380.8022,165.5,390.8022,169.5,380.8022,165.5,384.8022" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.5;" x1="310.5" x2="320.5" y1="368.8022" y2="368.8022"/><line style="stroke: #FF0000; stroke-width: 1.5;" x1="320.5" x2="320.5" y1="368.8022" y2="390.8022"/><polygon fill="#FF0000" points="316.5,380.8022,320.5,390.8022,324.5,380.8022,320.5,384.8022" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="165.5" x2="165.5" y1="424.771" y2="429.771"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="165.5" x2="243" y1="429.771" y2="429.771"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="243" x2="243" y1="429.771" y2="444.771"/><polygon fill="#A80036" points="239,434.771,243,444.771,247,434.771,243,438.771" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="243" x2="243" y1="320.1929" y2="356.8022"/><polygon fill="#A80036" points="239,346.8022,243,356.8022,247,346.8022,243,350.8022" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="243" x2="243" y1="166.646" y2="186.646"/><polygon fill="#A80036" points="239,176.646,243,186.646,247,176.646,243,180.646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="307" x2="507.5" y1="154.646" y2="154.646"/><polygon fill="#A80036" points="503.5,287.6929,507.5,297.6929,511.5,287.6929,507.5,291.6929" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="507.5" x2="507.5" y1="154.646" y2="456.771"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="507.5" x2="255" y1="456.771" y2="456.771"/><polygon fill="#A80036" points="265,452.771,255,456.771,265,460.771,261,456.771" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665" x2="665" y1="274.5835" y2="307.0444"/><polygon fill="#A80036" points="661,297.0444,665,307.0444,669,297.0444,665,301.0444" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="243" x2="243" y1="95.5474" y2="142.646"/><polygon fill="#A80036" points="239,132.646,243,142.646,247,132.646,243,136.646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665" x2="665" y1="95.5474" y2="240.6147"/><polygon fill="#A80036" points="661,230.6147,665,240.6147,669,230.6147,665,234.6147" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="243" x2="243" y1="468.771" y2="500.771"/><polygon fill="#A80036" points="239,490.771,243,500.771,247,490.771,243,494.771" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665" x2="665" y1="341.0132" y2="500.771"/><polygon fill="#A80036" points="661,490.771,665,500.771,669,490.771,665,494.771" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.25" x2="403.25" y1="30" y2="89.5474"/><polygon fill="#A80036" points="399.25,79.5474,403.25,89.5474,407.25,79.5474,403.25,83.5474" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="205" x="407.25" y="51.3047">Systemd supports parallel boot!</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.25" x2="403.25" y1="506.771" y2="538.771"/><polygon fill="#A80036" points="399.25,528.771,403.25,538.771,407.25,528.771,403.25,532.771" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.25" x2="403.25" y1="572.7397" y2="592.7397"/><polygon fill="#A80036" points="399.25,582.7397,403.25,592.7397,407.25,582.7397,403.25,586.7397" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
start
-> <u>**Systemd supports parallel boot!**</u>;
partition "System Boot" {
  fork
    partition "Update System" {
      if (requires updates?) then
        repeat :Download <u>*app*</u> update package;
        repeat while (not ok and retry count\nnot exhausted)
        if (download package?) then
          -[#green]->
          :Installing new <u>*app*</u> package;
        else
          -[#red]-> Cannot proceed, this is not safe!
          **shuting down** the system...;
          end
        endif
      endif
    }
  fork again
    :Launching postgres db;
    :Launching application backend;
  end fork
}
:Lauching application;
stop
@enduml

PlantUML version 1.2019.08(Sat Jul 13 15:25:14 EDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_222-ga
Operating System: Linux
OS Version: 4.14.154
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>